<html>

<head>
    <title>Form</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</head>

<body>
    <div class="container text-center">
        <h1 class="m-5">Form Example</h1>
        <form onsubmit="onFormSubmit(event)">
            <input type="text" id="f_name" placeholder="First Name">
            <br>
            <br>
            <input type="text" id="l_name" placeholder="Last Name">
            <br>
            <br>
            <input type="number" id="age" placeholder="Age">
            <br>
            <br>
            <input type="email" id="email" placeholder="Email">
            <br>
            <br>
            <input type="password" id="password" placeholder="password">
            <br>
            <br>
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
    </div>

    <script>
        function onFormSubmit(e) {
            e.preventDefault();
            let obj = {
                f_name: document.getElementById("f_name").value,
                l_name: document.getElementById("l_name").value,
                age: document.getElementById("age").value,
                email: document.getElementById("email").value,
                password: document.getElementById("password").value
            }
            console.log(obj);
            callApi(obj);
        }

        function callApi(data) {
            let api = "http://localhost:3000/databody";
            let options = {
                method: "POST",
                headers: {
                    "content-type": "application/json"
                },
                body: JSON.stringify(data)
            }
            fetch(api, options).then(response => response.json())
                .then(data => {
                    console.log(data);
                })
        }

    </script>

</body>

</html>